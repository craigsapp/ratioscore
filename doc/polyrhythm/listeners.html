
<script>
// vim: ts=3


let DEFAULTS = {
	"cycle-1": 3,
	"cycle-2": 2,
	"cycle-3": 0,
	"cycle-4": 0,
	"cycle-5": 0,
	"pitch-1": 1,
	"pitch-2": 1,
	"pitch-3": 1,
	"pitch-4": 1,
	"pitch-5": 1,
	"ref-1": "C4",
	"ref-2": "C4",
	"ref-3": "C4",
	"ref-4": "C4",
	"ref-5": "C4",
	"timbre-1": -76,
	"timbre-2": -77,
	"timbre-3": -35,
	"timbre-4": -35,
	"timbre-5": -35,
	"tempo": 320,
	"repeats": 10
};

let SETTINGS = {};


document.addEventListener("DOMContentLoaded", function () {
	loadDefaultSettings();
	loadCgiSettings();

	let inputs = document.querySelectorAll("input");
	for (let i=0; i<inputs.length; i++) {
		inputs[i].addEventListener("keyup", generateScore);
	}

	let selects = document.querySelectorAll("select");
	for (let i=0; i<selects.length; i++) {
		selects[i].addEventListener("change", generateScore);
	}

	updateInputsFromSettings();
	generateScore();
});



</script>



